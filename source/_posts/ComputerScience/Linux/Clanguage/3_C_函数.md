---
title: 3_C_函数
date: 2022/4/6/ 8:00
categories:
  - 计算机科学
tags:
  - 嵌入式
  - C语言
  - 笔记
sticky: true
valine:
  placeholder: "1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快💪"
---



# 函数 

## 函数的基本概念

函数是C语言的功能单位，一个功能可以封装成一个函数来实现，定义函数的时候，一切以功能为目的，根据功能去确定函数的参数和返回值类型。

## 函数的分类

1. 从定义的角度分类（函数由谁实现）

   1. 库函数(C库实现)
   2. 自定义函数(程序员自己实现的函数)
   3. 系统调用(操作系统实现的函数)

2. 从参数的角度分类

   1. 有参函数：函数有参数，可以是一个，或者多个，参数的类型随便，完全取决于参数的功能
   2. 无参函数：函数没有参数，在参数列表的位置写一个void 或者什么都不写

3. 从返回值的角度分类

   1. 带返回值的函数：在定义函数的时候，必须带着返回值的类型，在函数体中，必须有return关键字，如果没有返回值类型，默认返回整型
   2. 没有返回值的函数：该函数没有返回值，返回值类型为void

   

## 函数的定义

> 什么是函数的定义？
>
> 函数的定义就是函数的实现

1. 函数的定义格式

   ```c
   返回值类型 函数名(参数列表)
   {
       //函数体，实现函数的功能
   }
   注意：
       1.函数名字是标识符，所以需要遵循标识符的命名规则
       2.形参：可以有，可以没有，也可以有多个，但是即使没有，函数名字后面的括号不能省略
       3.函数体必须用大括号括起来
       4. 如果函数需要返回结果，则return后面跟的变量或者值，必须与函数的返回值类型一致
       5. 形参之间用逗号隔开
       6. 函数不能够嵌套定义
   ```

## 函数的声明

1. 概念

   对已经定义的函数，进行说明，函数的声明可以声明多次

2. 为什么要声明

   有些情况下，如果不对函数进行声明，编译器在编译的时候，可能不认识函数，因为编译器在编译的时候，是自顶向下的。

3. 声明的方法

   什么时候需要声明

   1. 当主调函数和被调函数同处于一个.c文件中的时候

      1. 被调函数在上，主调函数在下的时候，被调函数不需要进行声明

      2. 被调函数在下，主调函数在上的时候，被调函数需要进行声明

      3. 怎么声明

         1. 直接声明

         2. 间接声明：主调函数的声明在头文件中，.c程序包含头文件即可

   2. 主调函数和被调函数不在同一个.c文件中的时候

      一定要声明

      声明方法

      - 直接声明方法：将被调函数的第一行拷贝过去，后面加封号，前面加extern
      - 间接声明法：将函数的声明放在头文件中，.c文件包含头文件即可

   ## 函数调用

   函数的调用方法

   ​	变量=函数名(参数列表);

   ​	函数名(参数列表)；

   ​	实参：实际参数，本质就是在函数调用的时候将实参的值传递给形参

   ​	形参：形式参数，主要用于保存实参传递的值，本质跟实参没有任何的关系，只是值传递

   ## 函数总结

   在定义函数的时候，关于函数的参数和返回值是什么情况，完全取决于函数的功能。

   当编写函数的时候，一开始不要想着函数如何传参和函数的返回值应该是什么。

   而是当在写代码的途中，要使用某些值，但是当前函数中不存在，此时就需要进行传参，这时候怎么传参就是合适的时机。

   当函数编写完毕后，考虑是否要将某些结果返回给其他函数使用，此时需要考虑返回值。

   函数的优点

   1. 定义一次，可以多次使用，减少代码的冗余
   2. 模块化，功能化，便于调用，方便阅读

   

   # 函数扩展

   ## 外部函数

   定义的普通函数都是外部函数，即函数可以在程序的任何一个文件中调用。

   在分文件编程中，只需要将函数的实现过程写在指定的.c文件中，然后将器声明写在指定的.h文件中，其他文件只需包含该头文件，就可以使用该文件包含的外部函数

   ## 内部函数

   在定义函数的时候，返回指前面加static修饰。这样的函数被称为内部函数。

   static 限定了函数的作用范围，在定义的.c文件中有效

   ## 内部函数和外部函数的区别

   - 外部函数在所有的地方都可以调用
   - 内部函数只能在定义所在的文本中的函数调用。

   

   ## 扩展

   - 在同一作用范围内，不允许变量名重名
   - 作用域不同的可以重名
   - 局部范围内，重名的全局变量不起作用。（向上就近原则）

