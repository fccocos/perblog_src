## 操作系统的职责

操作系统用来管理所有的资源，并将不同的设备和不同的程序关联来。

## Linux系统编程

在有操作系统的环境下编程，并使用操作系统提供的系统调用及各种库，对系统资源进行操作。

系统编程主要就是为了让用户能够更好和更方便的操作硬件设备，并且对硬件设备也起到保护作用，我们所写的程序，本质就是对硬件设备的操作，所以操作系统提供接口可以对硬件进行操作，这就是系统编程

## 系统调用概述

[![LXfAns.png](https://s1.ax1x.com/2022/04/28/LXfAns.png)](https://imgtu.com/i/LXfAns)

本质都是要对硬件设备进行操作，但是linux操作系统在硬件之上设置内核，也就是只有内核才可以直接操作硬件设备，如果想操作内核，需要调用内核的系统调用，如果要操作内核中的系统调用，有三种方式

第一种：shell，通过调用shell命令，有shell解释器操作内核的系统调用

第二种：库函数，用户通过应用层库函数的接口，比如`fread`对内核的系统调用进行操作

第三种：应用层系统调用，可以直接对内核的系统调用进行操作

**系统调用是操作系统提供给用户的一组"特殊"接口**

Linux的不同版本提供了两三百个系统调用。

用户程序可以通过这组接口获得操作系统（内核）提供的服务。

[![LXoH9P.png](https://s1.ax1x.com/2022/04/28/LXoH9P.png)](https://imgtu.com/i/LXoH9P)

**系统调用按照功能逻辑大致可分为**：

进程控制、进程间通信、文件系统控制、系统控制、内存管理、网络管理、socket控制、用户管理。

**系统调用的返回值：**

通常，用一个负的返回值来表明错误，返回一个0值表明成功。错误信息存放在全局变量`errno`中，用户可用`perror`函数打印出错信息。

**系统调用遵循的规范**

在Linux中，应用程序编程接口（API)遵循POSIX标准。

POSIX标准基于当时现有的UNIX实践和经验，描述了操作系统的系统调用编程接口(实际上就是API),用干保证应用程序可以在源代码一级上在多种操作系统上移植运行





