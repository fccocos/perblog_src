# STC89C52的51单片机实现IIC总线通信

![image-20220530170723762](pic\image-20220530170723762.png)

由于P2端口默认加入了10k的上拉电阻，所以SCL和SDA都为高电平

定义IIC的数据线和时钟线

```c
sbit IIC_SCL = P2^1;
sbit IIC_SDA = P2^0;
```

需要实现的IIC协议功能

1. 通信的起始和停止信号
2. 响应
3. 时钟
4. 同步
5. 数据读写
6. 寻址